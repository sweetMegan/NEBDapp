<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div onclick="clickAction()">
    按我
</div>
<script type="text/javascript" src="dist/nebulas.js"></script>
<script type="text/javascript">
    var HttpRequest = require("nebulas").HttpRequest;
    console.log(HttpRequest);
    var Neb = require("nebulas").Neb;
    var Account = require("nebulas").Account;
    var Transaction = require("nebulas").Transaction;
    var Unit = require("nebulas").Unit;
    var neb = new Neb();
    //设置星云节点 这里设置为星云测试节点
    neb.setRequest(new HttpRequest("https://testnet.nebulas.io"));
    var account;
    function clickAction(e) {
        console.log(123);
        console.log(e);
        //创建一个账户
        account = Account.NewAccount();
        console.log(account.getAddressString());
        //查看账户信息
        neb.api.getAccountState(account.getAddressString()).then(function (state) {
            console.log(state);
        }).catch(function (err) {
            console.log("error:", err);
        });
    }

</script>
</body>
</html>













<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
    <!--<meta charset="UTF-8">-->
    <!--<title>Title</title>-->
<!--</head>-->
<!--<body>-->
<!--<div onclick="clickAction()">-->
    <!--按我-->
<!--</div>-->
<!--<div onclick="saveAction()">-->
    <!--调方法-->
<!--</div>-->
<!--<script type="text/javascript" src="dist/nebulas.js"></script>-->
<!--<script type="text/javascript">-->
    <!--var HttpRequest = require("nebulas").HttpRequest;-->
    <!--console.log(HttpRequest);-->
    <!--var Neb = require("nebulas").Neb;-->
    <!--var Account = require("nebulas").Account;-->
    <!--var Transaction = require("nebulas").Transaction;-->
    <!--var Unit = require("nebulas").Unit;-->
    <!--var neb = new Neb();-->
    <!--//设置星云节点 这里设置为星云测试节点-->
    <!--neb.setRequest(new HttpRequest("https://testnet.nebulas.io"));-->
    <!--var account;-->

    <!--function clickAction(e) {-->
        <!--console.log(123);-->
        <!--console.log(e);-->
        <!--//创建一个账户-->
        <!--account = Account.NewAccount();-->
        <!--console.log(account.getAddressString());-->
        <!--//查看账户信息-->
        <!--neb.api.getAccountState(account.getAddressString()).then(function (state) {-->
            <!--console.log(state);-->
        <!--}).catch(function (err) {-->
            <!--console.log("error:", err);-->
        <!--});-->
    <!--}-->
    <!--function saveAction() {-->
        <!--var admin = neb.admin;-->
        <!--console.log(admin);-->
        <!--admin.nodeInfo().then(function (info) {-->
           <!--console.log("info:"+info);-->
        <!--});-->
        <!--admin.accounts().then(function (accounts) {-->
            <!--console.log(accounts);-->
        <!--});-->
<!--//        var address;-->
<!--//        admin.newAccount({passphrase:"passphrase"}).then(function (add) {-->
<!--//            console.log(add);-->
<!--//            address = add;-->
<!--//        });-->
<!--//        admin.unlockAccount({-->
<!--//           address: address,-->
<!--//            passphrase:"passphrase",-->
<!--//            duration:100000-->
<!--//        }).then(function (isUnlocked) {-->
<!--//            console.log(isUnlocked);-->
<!--//        });-->
<!--//        admin.lockAccount({address:address}).then(function (isLocked) {-->
<!--//            console.log("locked:"+isLocked);-->
<!--//        });-->


<!--//-->

<!--//-->
<!--////        http://localhost:8685/v1/admin/transactionWithPassphrase -H 'Content-Type: application/json' -d-->
<!--//// '{"transaction":{"from":"n1LkDi2gGMqPrjYcczUiweyP4RxTB6Go1qS","to":"n1rVLTRxQEXscTgThmbTnn2NqdWFEKwpYUM",-->
<!--//// "value":"100","nonce":1,"gasPrice":"1000000","gasLimit":"2000000","contract":{"function":"save","args":"[0]"}},-->
<!--//// "passphrase": "passphrase"}'-->
<!--//-->
<!--////        utils.argumentsToObject(['from', 'to', 'value', 'nonce', 'gasPrice', 'gasLimit', 'contract', 'binary', 'passphrase'], arguments);-->
<!--//        neb.api.getAccountState(account.getAddressString()).then(function (state) {-->
<!--//            console.log(state);-->
<!--////            admin.sendTransactionWithPassphrase({-->
<!--////                    *    from: "n1QZMXSZtW7BUerroSms4axNfyBGyFGkrh5",-->
<!--////            *    to: "n1SAeQRVn33bamxN4ehWUT7JGdxipwn8b17",-->
<!--////            *    value: 10,-->
<!--////            *    nonce: 12,-->
<!--////            *    gasPrice: 1000000,-->
<!--////            *    gasLimit: 2000000,-->
<!--////            *    passphrase: "passphrase"-->
<!--////            * }).then(function(tx) {-->
<!--////                * //code-->
<!--////                * });-->
<!--//            neb.admin.sendTransactionWithPassphrase(account,account,"100",parseInt(state.nonce) + 1,-->
<!--//                    "10","10","","","passphrase").then(function (tx) {-->
<!--//                console.log(tx)-->
<!--//            }).catch(function (err) {-->
<!--//                console.log("sendTransactionWithPassphrase error:",err)-->
<!--//            })-->
<!--//-->
<!--//        }).catch(function (err) {-->
<!--//            console.log("error:", err);-->
<!--//        });-->

    <!--}-->
<!--</script>-->
<!--</body>-->
<!--</html>-->